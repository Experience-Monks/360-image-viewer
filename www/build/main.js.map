{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/home/home.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 119;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 119\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 160;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 160\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { Platform } from 'ionic-angular';\n\nimport { create360Viewer } from '360-image-viewer';\nimport { dragDrop } from 'drag-drop';\n// import { canvasFit } from 'canvas-fit';\n// const create360Viewer = require('360-image-viewer');\n// const canvasFit = require('canvas-fit');\n\nvar mobile = false;\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\n\n\nexport class HomePage {\n  autoSpin = false;     // whether to always rotate the view\n  panUp = true;         // initial vertical scroll direction\n  shift = false;        // if the shift key is pressed\n  initMouse = [0, 0]    // initial cursor position\n  currMouse = [0, 0]    // current cursor position\n  focus = true;       // if the document has focus\n\n  constructor(public navCtrl: NavController, public platform: Platform) {\n    mobile = this.platform.is('mobileweb') ? true : false;\n    const dropRegion = document.querySelector('#drop-region');\n\n    // Get a canvas of some sort, e.g. fullscreen or embedded in a site\n    const canvas = createCanvas({\n      canvas: document.querySelector('#canvas'),\n      // without this, the canvas defaults to full-screen\n      // viewport: [ 20, 20, 500, 256 ]\n    });\n\n    // Get the max image size possible\n    // const imageUrl = getImageURL();\n\n    // Load your image\n    const image = new Image();\n    image.src = \"../../assets/imgs/pano.png\";\n    image.onload = () => {\n      // Setup the 360 viewer\n      const viewer = create360Viewer({\n        image: image,\n        canvas: canvas\n      });\n\n      setupDragDrop(canvas, viewer);\n\n      // Start canvas render loop\n      viewer.start();\n\n      viewerSetup(viewer);\n\n      viewer.on('tick', (dt) => {\n        var txt = \"\";\n        txt += viewer.controls.theta;\n        txt += \" \";\n        txt += viewer.controls.phi;\n        document.getElementById(\"position\").innerHTML = txt;\n\n        if (this.shift) {\n          // Handle cursor-guided scrolling\n          viewer.controls.theta += (this.initMouse[0] - this.currMouse[0]) * 0.000065;\n          viewer.controls.phi += (this.initMouse[1] - this.currMouse[1]) * 0.000035;\n        } else if (focus){\n            \n            // Handle auto scrolling\n            if (this.autoSpin && !viewer.controls.dragging) {\n              dt = dt < 20 ? dt : 16.8;\n              viewer.controls.theta -= dt * 0.00005;\n              this.panUp = viewer.controls.phi >= 0.6 * Math.PI ? false : this.panUp;\n              this.panUp = viewer.controls.phi <= 0.48 * Math.PI ? true : this.panUp;\n              viewer.controls.phi += dt * 0.00005 * (this.panUp ? 1 : -1);\n              // if (viewer.controls.phi >= 0.61 * Math.PI || viewer.controls.phi <= 0.479 * Math.PI) {\n              //   console.log(\"i'm not supposed be here: \" + (viewer.controls.phi / Math.PI));\n              //   viewer.controls.phi = 0.57 * Math.PI;\n              // }\n            }\n          } \n          // else {\n          //   console.log(\"i've lost focus\");\n          // }\n      });\n    };\n\n    // Utility to create a device pixel scaled canvas\n    function createCanvas (opt = <any>{}) {\n      // default to full screen (no width/height specified)\n      const viewport = opt.viewport || [ 0, 0 ];\n\n      const canvas = opt.canvas || document.createElement('canvas');\n      canvas.style.position = 'absolute';\n      canvas.style.top = `${viewport[0]}px`;\n      canvas.style.left = `${viewport[1]}px`;\n\n      // Resize the canvas with the proper device pixel ratio\n      const resizeCanvas = () => {\n        // default to fullscreen if viewport width/height is unspecified\n        const width = typeof viewport[2] === 'number' ? viewport[2] : window.innerWidth;\n        const height = typeof viewport[3] === 'number' ? viewport[3] : window.innerHeight;\n        const dpr = window.devicePixelRatio;\n        canvas.width = width * dpr;\n        canvas.height = height * dpr;\n        canvas.style.width = `${width}px`;\n        canvas.style.height = `${height}px`;\n      };\n\n      // Ensure the grab cursor appears even when the mouse is outside the window\n      const setupGrabCursor = () => {\n        canvas.addEventListener('mousedown', () => {\n          document.documentElement.classList.remove('grabbing');\n          document.documentElement.classList.add('grabbing');\n        });\n        window.addEventListener('mouseup', () => {\n          document.documentElement.classList.remove('grabbing');\n        });\n      };\n\n      window.addEventListener('resize', resizeCanvas);\n      resizeCanvas();\n      setupGrabCursor();\n      return canvas;\n    }\n\n    // function getImageURL () {\n    //   return \"./assets/imgs/pano.png\";\n    // }\n\n    function setupDragDrop (canvas, viewer) {\n      dragDrop(canvas, {\n        onDragEnter: () => {\n          (<HTMLDivElement>dropRegion).style.display = '';\n        },\n        onDragLeave: () => {\n          (<HTMLDivElement>dropRegion).style.display = 'none';\n        },\n        onDrop: (files) => {\n          var img = new Image();\n          img.onload = () => {\n            viewer.texture(img);\n          };\n          img.onerror = () => {\n            alert('Could not load image!');\n          };\n          img.crossOrigin = 'Anonymous';\n          img.src = URL.createObjectURL(files[0]);\n        }\n      });\n    }\n\n    function viewerSetup(viewer) {\n\n      // Determine when document has focus\n      document.addEventListener(\"visibilitychange\", function() {\n        this.focus = !this.focus;\n        console.log(this.focus ? \"gained focus\" : \"lost focus\");\n      })\n\n      // Set up key handlers\n      document.body.onkeydown = checkKeyDown;\n      document.body.onkeyup = checkKeyUp;\n      document.addEventListener(\"mousemove\", mouseHandler);\n      document.getElementById(\"invert\").addEventListener(\"change\", invertDrag);\n      document.getElementById(\"toggle\").addEventListener(\"change\", toggleSpin);\n\n      // Set up button handlers\n      document.getElementById(\"spin\").addEventListener(\"click\", toggleSpinKeyDown);\n      document.getElementById(\"left\").addEventListener(\"click\", moveLeft);\n      document.getElementById(\"right\").addEventListener(\"click\", moveRight);\n\n      // Calls helper methods based on which keys pressed\n      function checkKeyDown(e) {\n        e = e || window.event;\n        switch (e.keyCode) {\n          // shift\n          case 16: shiftDown(); break;\n          // space\n          case 32: toggleSpinKeyDown(); break;\n          // left arrow\n          case 37: moveLeft(); break;\n          // up arrow\n          case 38: moveUp(); break;\n          // right arrow\n          case 39: moveRight(); break;\n          // down arrow\n          case 40: moveDown(); break;\n        }\n      }\n      \n      // Calls helper methods based on which keys released\n      function checkKeyUp(e) {\n        e = e || window.event;\n        switch (e.keyCode) {\n          // shift\n          case 16: shiftUp(); break;\n        }\n      }\n\n      ///////////////////////////////////////\n      // Helper Functions\n      ///////////////////////////////////////\n\n      const PI2 = 2 * Math.PI;  // Stores the twice the value of pi (1 full rotation)\n\n      // Makes a full rotation left in 12 steps\n      function moveLeft() {\n        viewer.controls.theta += PI2 / 12;\n      }\n      // Makes a full rotation right in 12 steps\n      function moveRight() {\n        viewer.controls.theta -= PI2 / 12;\n      }\n      // Makes a half rotation up in 15 steps\n      function moveUp() {\n        viewer.controls.phi += Math.PI / 15;\n      }\n      // Makes a half rotation down in 15 steps\n      function moveDown() {\n        viewer.controls.phi -= Math.PI / 15;\n      }\n      // Toggles auto spin on key down\n      function toggleSpinKeyDown() {\n        (<HTMLInputElement>document.getElementById(\"toggle\")).checked = \n                !(<HTMLInputElement>document.getElementById(\"toggle\")).checked;\n        toggleSpin();\n      }\n      // Toggles auto spin\n      function toggleSpin() {\n        this.autoSpin = !this.autoSpin;\n      }\n      // Triggers when shift is held down\n      function shiftDown() {\n        this.shift = true;\n        this.initMouse = this.currMouse;\n      }\n      // Triggers when shift is released\n      function shiftUp() {\n        this.shift = false;\n      }\n      // Constantly caching the mouse's position\n      function mouseHandler(event) {\n        var x = event.clientX;\n        var y = event.clientY;\n        this.currMouse = [x, y];\n      }\n      // Inverts the controls for dragging\n      function invertDrag() {\n        viewer.controls.rotateSpeed = -viewer.controls.rotateSpeed;\n      }\n    }\n\n  }\n\n  \n  check() {\n    \n    // alert(mobile ? \"mobile!\" : \"desktop!\")\n    alert(this.shift);\n  }\n\n}\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = HomePage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}