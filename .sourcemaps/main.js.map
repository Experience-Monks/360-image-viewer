{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/home/home.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/pages/home/getMaxTextureSize.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 120;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 120\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 161;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 161\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { Platform } from 'ionic-angular';\n\nimport * as create360Viewer from '360-image-viewer';\nimport * as getMaxTextureSize from './getMaxTextureSize';\nimport * as dragDrop from 'drag-drop';\nimport * as noSleep from 'nosleep.js';\n\nconst decimalDigits = 3;    // number of decimal places to round values\nconst imagePath = \"../../assets/imgs/\"\nconst defaultPicture = \"pano.jpg\"\nconst awake = new noSleep();\nconst maxTextureSize = getMaxTextureSize();\n\nlet mobile = false;         // if being run on a mobile device\nlet tablet = false;         // if being run on a tablet\nlet autoSpin = false;       // whether to rotate the view\nlet panUp = true;           // initial vertical spin direction\nlet shift = false;          // if the shift key is held\nlet tilt = false;           // if mobile is in tilt mode\nlet scalingFactors;         // holds scaling factors\n\nlet initMouse = [0, 0]      // initial cursor position\nlet currMouse = [0, 0]      // current cursor position\n\nlet portrait = 0;           // orientation of phone (0-vertical, 1-cw, 2-upside down, 3-ccw)\nlet canvasSize = [0, 0]     // current canvas size\nlet currAcc = [0, 0, 0]     // current acceleration\nlet initRot = [0, 0, 0]     // current rotation\nlet currRot = [0, 0, 0]     // current rotation\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\n\nexport class HomePage {\n  constructor(public navCtrl: NavController, public platform: Platform) {\n    mobile = this.platform.is('mobileweb');\n    if (mobile) tablet = this.platform.is('tablet');\n    scalingFactors = mobile ? [0.00003, 0.00003]\n                            : [0.000065, 0.000050]\n  }\n}\nwindow.onload = () => {\n  // Desktop setup\n  if (!mobile) {\n    Array.from(document.querySelectorAll(\".desktop.icon\")).forEach(element => {\n      (<HTMLElement>element).style.display = \"\";\n    });\n    (<HTMLElement>document.querySelector(\".right.info\")).style.display = \"\";\n    mouseSetup();\n  }\n  // Mobile browser setup\n  else {\n    // Set up tilt controls if supported\n    if (\"ondeviceorientation\" in window) {\n      Array.from(document.querySelectorAll(\".mobile.icon\")).forEach(element => {\n        (<HTMLElement>element).style.display = \"\";\n      });\n      rotSetup();\n      accSetup();\n    }\n  }\n  \n  // Get a canvas of some sort, e.g. fullscreen or embedded in a site\n  const canvas = createCanvas({\n    canvas: document.querySelector('#canvas'),\n  });\n\n  // Create and set up image\n  const image = new Image();\n  image.src = imagePath + defaultPicture;\n  \n  image.onload = () => {\n    // Setup the 360 viewer\n    const viewer = create360Viewer({\n      image: image,\n      canvas: canvas,\n      damping: 0.25,\n      zoom: true,       // Need to change in ~/node_modules/360-image-viewer/index.js\n      pinching: true,   // Need to change in ~/node_modules/360-image-viewer/index.js\n      distanceBounds: [0, 1.05],\n    });\n\n    if (!mobile)\n      setupDragDrop(canvas, viewer);\n\n    // Start canvas render loop\n    viewerSetup(viewer);\n    viewer.start();\n\n    viewer.on('tick', (dt) => {\n      if (shift && !mobile) {\n        cursorScrolling();\n      } else if (tilt && mobile && !viewer.controls.dragging) {\n        tiltScrolling();\n      } else if (autoSpin && !viewer.controls.dragging) {\n        autoSpinning(dt);\n      }\n    });\n\n    // General setup\n    (<HTMLElement>document.querySelector(\"#upload\")).onchange = uploadPhoto;\n\n    // Handle automatic scrolling\n    function autoSpinning(dt) {\n      dt = dt < 20 ? dt : 16.8;   // Makes sure dt doesn't become too high\n      viewer.controls.theta -= dt * 0.00005; // Horizontal movement\n      // Determine when to switch vertical direction\n      panUp = viewer.controls.phi >= 0.6 * Math.PI ? false : \n             (viewer.controls.phi <= 0.48 * Math.PI ? true : panUp)\n      viewer.controls.phi += dt * 0.00005 * (panUp ? 1 : -1); // Vertical movement\n    }\n\n    // Handle cursor-guided scrolling\n    function cursorScrolling() {\n      let xdiff = initMouse[0] - currMouse[0];\n      let ydiff = initMouse[1] - currMouse[1];\n      viewer.controls.theta += Math.sign(xdiff) * Math.pow(xdiff, 2) * scalingFactors[0] / (canvasSize[0] / 2);\n      viewer.controls.phi += Math.sign(ydiff) * Math.pow(ydiff, 2) * scalingFactors[1] / (canvasSize[1] / 2);\n    }\n\n    // Handle gyroscope-guided scrolling\n    function tiltScrolling() {\n      let xdiff = roundDecimal(smallestDiff(initRot[2], currRot[2], 90), decimalDigits); // z axis\n      let ydiff = roundDecimal(smallestDiff(initRot[1], currRot[1], 90), decimalDigits); // y axis\n\n      // swap if landscape orientation\n      if (portrait % 2 != 0) {\n        let temp = xdiff;\n        xdiff = ydiff;\n        ydiff = temp;\n      }\n      // Negate values as necessary\n      // 0: x=x, y=y, 1: x=-y, y=x, 2: x=-x, y=-y, 3: x=y, y=-x\n      if (portrait != 0) {\n        if (portrait > 1)\n          ydiff = -ydiff;\n        if (portrait < 3)\n          xdiff = -xdiff;\n      }\n\n      viewer.controls.theta += Math.sign(xdiff) * Math.pow(xdiff, 2) * scalingFactors[0];\n      viewer.controls.phi += Math.sign(ydiff) * Math.pow(ydiff, 2) * scalingFactors[1];\n    }\n\n    // returns the smallest angle difference between init and curr within the range [-deg, deg]\n    function smallestDiff(init, curr, deg) {\n      let deg2 = 2 * deg;\n      let diff = (init % deg - curr % deg + deg2) % deg2;\n      return diff > deg ? diff - deg2 : diff;\n    }\n\n    // Setup drag and drop for uploading new photos on desktop\n    function setupDragDrop(canvas, viewer) {\n      const dropRegion = document.querySelector('#drop-region');\n      dragDrop(canvas, {\n        onDragEnter: () => {\n          (<HTMLDivElement>dropRegion).style.display = '';\n        },\n        onDragLeave: () => {\n          (<HTMLDivElement>dropRegion).style.display = 'none';\n        },\n        onDrop: (files) => {\n          let img = new Image();\n          img.onload = () => {\n            viewer.texture(img);\n          };\n          img.onerror = () => {\n            alert('Could not load image!');\n          };\n          img.crossOrigin = 'Anonymous';\n          img.src = URL.createObjectURL(files[0]);\n        }\n      });\n    }\n\n    // Sets the uploaded image to be viewed\n    function uploadPhoto() {\n      if (this.files && this.files[0]) {\n        let img = new Image();\n        img.onload = () => {\n          if (img.width > maxTextureSize || img.height > maxTextureSize) {\n            resizeImg(img);\n          } else {\n            viewer.texture(img);\n          }\n        };\n        img.onerror = () => {\n          alert('Could not load image!');\n        };\n        img.crossOrigin = 'Anonymous';\n        img.src = URL.createObjectURL(this.files[0]);\n      }\n      if (tilt) toggleTilt();\n      if (autoSpin) toggleSpin();\n    }\n\n    // returns a URL to an image of img resized to maxTextureSize\n    function resizeImg(img) {\n      if (img.width > maxTextureSize || img.height > maxTextureSize) {\t\n        alert(\"Resizing image to fit screen.\")\n        let cvs = document.createElement(\"canvas\");\n        let ctx = cvs.getContext(\"2d\");\n        let scalingFactor = maxTextureSize / (img.width >= img.height ? img.width : img.height);\n        cvs.width = img.width * scalingFactor;\n        cvs.height = img.height * scalingFactor;\n        ctx.scale(scalingFactor, scalingFactor);\n        ctx.drawImage(img, 0, 0);\n        img.src = cvs.toDataURL()\n      }\n    }\n  };\n}\n\n// Utility to create a device pixel scaled canvas\nfunction createCanvas(opt = <any>{}) {\n  // default to full screen (no width/height specified)\n  const viewport = opt.viewport || [0, 0];\n\n  const canvas = opt.canvas || document.createElement('canvas');\n  canvas.style.position = 'absolute';\n  canvas.style.top = `${viewport[0]}px`;\n  canvas.style.left = `${viewport[1]}px`;\n\n  // Resize the canvas with the proper device pixel ratio\n  const resizeCanvas = () => {\n    // default to fullscreen if viewport width/height is unspecified\n    const width = typeof viewport[2] === 'number' ? viewport[2] : window.innerWidth;\n    const height = typeof viewport[3] === 'number' ? viewport[3] : window.innerHeight;\n    const dpr = window.devicePixelRatio;\n    canvas.width = width * dpr;\n    canvas.height = height * dpr;\n    canvas.style.width = `${width}px`;\n    canvas.style.height = `${height}px`;\n    canvasSize = [width, height];\n\n    if (mobile)\n      recalculateOrientation();\n  };\n\n  // Ensure the grab cursor appears even when the mouse is outside the window\n  const setupGrabCursor = () => {\n    canvas.addEventListener('mousedown', () => {\n      document.documentElement.classList.remove('grabbing');\n      document.documentElement.classList.add('grabbing');\n    });\n    window.addEventListener('mouseup', () => {\n      document.documentElement.classList.remove('grabbing');\n    });\n  };\n\n  window.addEventListener('resize', resizeCanvas);\n  resizeCanvas();\n  if (!mobile)\n    setupGrabCursor();\n  return canvas;\n}\n\n// Calculates the orientation of the mobile device\nfunction recalculateOrientation() {\n  // If taller than wide, vertical (0-vertical, 1-cw, 2-upside down, 3-ccw)\n  portrait = canvasSize[1] > canvasSize[0] ? (currAcc[1] >= 0 ? 0 : 2)\n                                           : (currAcc[0] >= 0 ? 3 : 1);\n  // workaround for the horizontal SONY tablet\n  if (tablet)\n    portrait = (portrait + 1) % 4\n  if (tilt)\n    toggleTilt();\n}\n\n// Set up movement controls for the viewer\nfunction viewerSetup(viewer) {\n  // Personal Preference\n  invertDrag();\n\n  // Set up key handlers\n  if (!mobile) {\n    document.body.onkeydown = checkKeyDown;\n    document.body.onkeyup = checkKeyUp;\n  }\n\n  // Set up button handlers\n  (<HTMLImageElement>document.querySelector((mobile ? \".mobile\" : \".desktop\") + \".icon#spin\")).onclick = toggleSpin;\n  mobile ? (<HTMLImageElement>document.querySelector(\"#tilt\")).onclick = toggleTilt\n         : (<HTMLImageElement>document.querySelector(\"#invert\")).onclick = invertDrag;\n  (<HTMLImageElement>document.querySelector(\"#left\")).onclick = moveLeft;\n  (<HTMLImageElement>document.querySelector(\"#right\")).onclick = moveRight;\n\n  // Calls helper methods based on which keys pressed\n  function checkKeyDown(e) {\n    e = e || window.event;\n    switch (e.keyCode) {\n      // shift\n      case 16: shiftOn(); break;\n      // space\n      case 32: toggleSpin(); break;\n      // left arrow\n      case 37: moveLeft(); break;\n      // up arrow\n      case 38: moveUp(); break;\n      // right arrow\n      case 39: moveRight(); break;\n      // down arrow\n      case 40: moveDown(); break;\n    }\n  }\n\n  // Calls helper methods based on which keys released\n  function checkKeyUp(e) {\n    e = e || window.event;\n    switch (e.keyCode) {\n      // shift\n      case 16: shiftOff(); break;\n    }\n  }\n\n  ///////////////////////////////////////\n  // Helper Functions\n  ///////////////////////////////////////\n\n  const PI2 = 2 * Math.PI;  // Stores the twice the value of pi (1 full rotation)\n\n  // Makes a full rotation left in 12 steps\n  function moveLeft() {\n    viewer.controls.theta += PI2 / 12;\n  }\n  // Makes a full rotation right in 12 steps\n  function moveRight() {\n    viewer.controls.theta -= PI2 / 12;\n  }\n  // Makes a half rotation up in 15 steps\n  function moveUp() {\n    viewer.controls.phi += Math.PI / 15;\n  }\n  // Makes a half rotation down in 15 steps\n  function moveDown() {\n    viewer.controls.phi -= Math.PI / 15;\n  }\n\n  // Inverts the controls for dragging\n  function invertDrag() {\n    viewer.controls.rotateSpeed = -viewer.controls.rotateSpeed;\n  }\n}\n\n// Activates shift controls\nfunction shiftOn() {\n  shift = true;\n  initMouse = currMouse;\n}\n\n// Deactivates shift controls\nfunction shiftOff() {\n  shift = false;\n}\n\n// Toggles auto spin\nfunction toggleSpin() {\n  if (tilt) toggleTilt();\n\n  autoSpin = !autoSpin;\n  let spinButton = <HTMLImageElement>document.querySelector(\n                   (mobile ? \".mobile\" : \".desktop\") + \".icon#spin\");\n  spinButton.src = imagePath + (autoSpin ? \"stop.png\" : \"rotate.png\");\n  if (autoSpin) {\n    awake.enable();\n  } else if (mobile && !autoSpin && !tilt) {\n    awake.disable();\n  }\n}\n\n// Toggles the tilt controls, sets the HTML button text\nfunction toggleTilt() {\n  if (autoSpin) toggleSpin();\n\n  tilt = !tilt;\n  let tiltButton = <HTMLImageElement>document.querySelector(\"#tilt\")\n  if (tilt) {\n    tiltButton.src = imagePath + \"iphone.png\";\n    initRot = currRot;\n    awake.enable();\n  } else {\n    tiltButton.src = imagePath + \"tilt.png\";\n  }\n  if (mobile && !autoSpin && !tilt) {\n    awake.disable();\n  }\n}\n\n// Read and cache mouse position\n// Used for shift controls on desktop\nfunction mouseSetup() {\n  document.addEventListener(\"mousemove\", (e) => {\n    let x = e.clientX;\n    let y = e.clientY;\n    currMouse = [x, y];\n  });\n}\n\n// Read and cache the rotation values\n// Used for tilt controls on mobile\nfunction rotSetup() {\n  window.addEventListener(\"deviceorientation\", (e) => {\n    let alpha = roundDecimal(e.alpha, decimalDigits);\n    let beta = roundDecimal(e.beta, decimalDigits);\n    let gamma = roundDecimal(e.gamma, decimalDigits);\n    currRot = [alpha, beta, gamma];\n  })\n}\n\n// Read and cache the acceleration values\n// Used for detecting orientation on mobile\nfunction accSetup() {\n  window.addEventListener(\"devicemotion\", (e) => {\n    let xAcc = roundDecimal(e.accelerationIncludingGravity.x, decimalDigits);\n    let yAcc = roundDecimal(e.accelerationIncludingGravity.y, decimalDigits);\n    let zAcc = roundDecimal(e.accelerationIncludingGravity.z, decimalDigits);\n    currAcc = [xAcc, yAcc, zAcc];\n  })\n}\n\n// Rounds num to at most dig decimal places\nfunction roundDecimal(num, dig) {\n  return Math.trunc(num * Math.pow(10, dig)) / Math.pow(10, dig);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { Gyroscope } from '@ionic-native/gyroscope';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    Gyroscope,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = HomePage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","const getContext = require('get-canvas-context');\nconst DEFAULT_SIZE = 1024;\n\nmodule.exports = function () {\n  const gl = getContext('webgl');\n  return gl ? gl.getParameter(gl.MAX_TEXTURE_SIZE) : DEFAULT_SIZE;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/getMaxTextureSize.js\n// module id = 330\n// module chunks = 0"],"sourceRoot":""}