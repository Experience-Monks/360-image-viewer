{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/home/home.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 119;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 119\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 160;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 160\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { Platform } from 'ionic-angular';\n\n\nimport { create360Viewer } from '360-image-viewer';\nimport { dragDrop } from 'drag-drop';\n// import { canvasFit } from 'canvas-fit';\n// const create360Viewer = require('360-image-viewer');\n// const canvasFit = require('canvas-fit');\n\nvar mobile = false;\n\nvar autoSpin = false;     // whether to always rotate the view\nvar panUp = true;         // initial vertical scroll direction\nvar shift = false;        // if the shift key is pressed\nvar initMouse = [0, 0]    // initial cursor position\nvar currMouse = [0, 0]    // current cursor position\nvar focus = true;       // if the document has focus\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\n\n\nexport class HomePage {\n  // @ViewChild('left') myLeft : HTMLElement;\n\n  constructor(public navCtrl: NavController, public platform: Platform) {\n    // alert(\"constructor\");\n    mobile = this.platform.is('mobileweb') ? true : false;\n{    // check();\n    \n    // this.myLeft.onclick = () => {\n    //   alert(\"left\");\n    // }\n    // document.getElementById('left').onclick = () => {\n    //   alert(\"left\");\n    // }\n\n    // const dropRegion = document.querySelector('#drop-region');\n    // // Get a canvas of some sort, e.g. fullscreen or embedded in a site\n    // const canvas = createCanvas({\n    //   canvas: document.querySelector('#canvas'),\n    //   // without this, the canvas defaults to full-screen\n    //   // viewport: [ 20, 20, 500, 256 ]\n    // });\n\n    // // Get the max image size possible\n    // // const imageUrl = getImageURL();\n\n    // // Load your image\n    // const image = new Image();\n    // image.src = \"../../assets/imgs/pano.png\";\n    // image.onload = () => {\n    //   // Setup the 360 viewer\n    //   const viewer = create360Viewer({\n    //     image: image,\n    //     canvas: canvas\n    //   });\n\n    //   setupDragDrop(canvas, viewer);\n\n    //   // Start canvas render loop\n    //   viewer.start();\n\n    //   viewerSetup(viewer);\n\n    //   viewer.on('tick', (dt) => {\n    //     var txt = \"\";\n    //     txt += viewer.controls.theta;\n    //     txt += \" \";\n    //     txt += viewer.controls.phi;\n    //     document.getElementById(\"position\").innerHTML = txt;\n\n    //     if (shift) {\n    //       // Handle cursor-guided scrolling\n    //       viewer.controls.theta += (initMouse[0] - currMouse[0]) * 0.000065;\n    //       viewer.controls.phi += (initMouse[1] - currMouse[1]) * 0.000035;\n    //     } else if (focus){\n            \n    //         // Handle auto scrolling\n    //         if (autoSpin && !viewer.controls.dragging) {\n    //           dt = dt < 20 ? dt : 16.8;\n    //           viewer.controls.theta -= dt * 0.00005;\n    //           panUp = viewer.controls.phi >= 0.6 * Math.PI ? false : panUp;\n    //           panUp = viewer.controls.phi <= 0.48 * Math.PI ? true : panUp;\n    //           viewer.controls.phi += dt * 0.00005 * (panUp ? 1 : -1);\n    //           // if (viewer.controls.phi >= 0.61 * Math.PI || viewer.controls.phi <= 0.479 * Math.PI) {\n    //           //   console.log(\"i'm not supposed be here: \" + (viewer.controls.phi / Math.PI));\n    //           //   viewer.controls.phi = 0.57 * Math.PI;\n    //           // }\n    //         }\n    //       } \n    //       // else {\n    //       //   console.log(\"i've lost focus\");\n    //       // }\n    //   });\n\n    //   function setupDragDrop (canvas, viewer) {\n    //     dragDrop(canvas, {\n    //       onDragEnter: () => {\n    //         (<HTMLDivElement>dropRegion).style.display = '';\n    //       },\n    //       onDragLeave: () => {\n    //         (<HTMLDivElement>dropRegion).style.display = 'none';\n    //       },\n    //       onDrop: (files) => {\n    //         var img = new Image();\n    //         img.onload = () => {\n    //           viewer.texture(img);\n    //         };\n    //         img.onerror = () => {\n    //           alert('Could not load image!');\n    //         };\n    //         img.crossOrigin = 'Anonymous';\n    //         img.src = URL.createObjectURL(files[0]);\n    //       }\n    //     });\n    //   }\n    // };\n    }\n  }\n  \n  \n}\n\nwindow.onload = () => {\n  // alert(\"onload\");\n  check();\n  if (!mobile)\n    (<HTMLElement>document.getElementsByClassName(\"info2\")[0]).style.display = \"\";\n  document.getElementById('left').onclick = () => {\n    alert(\"left\");\n  }\n\n  const dropRegion = document.querySelector('#drop-region');\n  // Get a canvas of some sort, e.g. fullscreen or embedded in a site\n  const canvas = createCanvas({\n    canvas: document.querySelector('#canvas'),\n    // without this, the canvas defaults to full-screen\n    // viewport: [ 20, 20, 500, 256 ]\n  });\n\n  alert(\"hi\");\n  // Load your image\n  const image = new Image();\n\n\n  image.onload = () => {\n    alert(\":(\");\n    console.log(\":(\");\n    // Setup the 360 viewer\n    const viewer = create360Viewer({\n      image: image,\n      canvas: canvas\n    });\n\n    alert(\":D\");\n    console.log(\":D\");\n\n    setupDragDrop(canvas, viewer);\n\n    \n    // Start canvas render loop\n    viewer.start();\n\n    viewerSetup(viewer);\n\n    viewer.on('tick', (dt) => {\n      var txt = \"\";\n      txt += viewer.controls.theta;\n      txt += \" \";\n      txt += viewer.controls.phi;\n      document.getElementById(\"position\").innerHTML = txt;\n\n      if (shift) {\n        // Handle cursor-guided scrolling\n        viewer.controls.theta += (initMouse[0] - currMouse[0]) * 0.000065;\n        viewer.controls.phi += (initMouse[1] - currMouse[1]) * 0.000035;\n      } else if (focus){\n          \n          // Handle auto scrolling\n          if (autoSpin && !viewer.controls.dragging) {\n            dt = dt < 20 ? dt : 16.8;\n            viewer.controls.theta -= dt * 0.00005;\n            panUp = viewer.controls.phi >= 0.6 * Math.PI ? false : panUp;\n            panUp = viewer.controls.phi <= 0.48 * Math.PI ? true : panUp;\n            viewer.controls.phi += dt * 0.00005 * (panUp ? 1 : -1);\n            // if (viewer.controls.phi >= 0.61 * Math.PI || viewer.controls.phi <= 0.479 * Math.PI) {\n            //   console.log(\"i'm not supposed be here: \" + (viewer.controls.phi / Math.PI));\n            //   viewer.controls.phi = 0.57 * Math.PI;\n            // }\n          }\n        } \n        // else {\n        //   console.log(\"i've lost focus\");\n        // }\n    });\n\n    \n\n    function setupDragDrop (canvas, viewer) {\n      dragDrop(canvas, {\n        onDragEnter: () => {\n          (<HTMLDivElement>dropRegion).style.display = '';\n        },\n        onDragLeave: () => {\n          (<HTMLDivElement>dropRegion).style.display = 'none';\n        },\n        onDrop: (files) => {\n          var img = new Image();\n          img.onload = () => {\n            viewer.texture(img);\n          };\n          img.onerror = () => {\n            alert('Could not load image!');\n          };\n          img.crossOrigin = 'Anonymous';\n          img.src = URL.createObjectURL(files[0]);\n        }\n      });\n    }\n  };\n\n  image.src = \"../../assets/imgs/pano.jpg\";\n  // image.onerror = function() {console.log(\"Image failed!\");};\n}\n\n\nfunction check() {\n  alert(mobile ? \"mobile!\" : \"computer!\")\n}\n\n\n\n\n\n\n\n\n\n// Utility to create a device pixel scaled canvas\nfunction createCanvas (opt = <any>{}) {\n  // default to full screen (no width/height specified)\n  const viewport = opt.viewport || [ 0, 0 ];\n\n  const canvas = opt.canvas || document.createElement('canvas');\n  canvas.style.position = 'absolute';\n  canvas.style.top = `${viewport[0]}px`;\n  canvas.style.left = `${viewport[1]}px`;\n\n  // Resize the canvas with the proper device pixel ratio\n  const resizeCanvas = () => {\n    // default to fullscreen if viewport width/height is unspecified\n    const width = typeof viewport[2] === 'number' ? viewport[2] : window.innerWidth;\n    const height = typeof viewport[3] === 'number' ? viewport[3] : window.innerHeight;\n    const dpr = window.devicePixelRatio;\n    canvas.width = width * dpr;\n    canvas.height = height * dpr;\n    canvas.style.width = `${width}px`;\n    canvas.style.height = `${height}px`;\n  };\n\n  // Ensure the grab cursor appears even when the mouse is outside the window\n  const setupGrabCursor = () => {\n    canvas.addEventListener('mousedown', () => {\n      document.documentElement.classList.remove('grabbing');\n      document.documentElement.classList.add('grabbing');\n    });\n    window.addEventListener('mouseup', () => {\n      document.documentElement.classList.remove('grabbing');\n    });\n  };\n\n  window.addEventListener('resize', resizeCanvas);\n  resizeCanvas();\n  setupGrabCursor();\n  return canvas;\n}\n\n// function getImageURL () {\n//   return \"./assets/imgs/pano.png\";\n// }\n\n\n\nfunction viewerSetup(viewer) {\n\n  // Determine when document has focus\n  document.addEventListener(\"visibilitychange\", function() {\n    focus = !focus;\n    console.log(focus ? \"gained focus\" : \"lost focus\");\n  })\n\n  // Set up key handlers\n  if (!mobile) { \n    document.body.onkeydown = checkKeyDown;\n    document.body.onkeyup = checkKeyUp;\n    document.addEventListener(\"mousemove\", mouseHandler);\n  }\n\n  // Set up checkbox handlers\n  document.getElementById(\"invert\").addEventListener(\"change\", invertDrag);\n  document.getElementById(\"toggle\").addEventListener(\"change\", toggleSpin);\n\n  // Set up button handlers\n  document.getElementById(\"spin\").addEventListener(\"click\", toggleSpinKeyDown);\n  document.getElementById(\"left\").addEventListener(\"click\", moveLeft);\n  document.getElementById(\"right\").addEventListener(\"click\", moveRight);\n\n  // Calls helper methods based on which keys pressed\n  function checkKeyDown(e) {\n    e = e || window.event;\n    switch (e.keyCode) {\n      // shift\n      case 16: shiftDown(); break;\n      // space\n      case 32: toggleSpinKeyDown(); break;\n      // left arrow\n      case 37: moveLeft(); break;\n      // up arrow\n      case 38: moveUp(); break;\n      // right arrow\n      case 39: moveRight(); break;\n      // down arrow\n      case 40: moveDown(); break;\n    }\n  }\n  \n  // Calls helper methods based on which keys released\n  function checkKeyUp(e) {\n    e = e || window.event;\n    switch (e.keyCode) {\n      // shift\n      case 16: shiftUp(); break;\n    }\n  }\n\n  ///////////////////////////////////////\n  // Helper Functions\n  ///////////////////////////////////////\n\n  const PI2 = 2 * Math.PI;  // Stores the twice the value of pi (1 full rotation)\n\n  // Makes a full rotation left in 12 steps\n  function moveLeft() {\n    alert(\"left\");\n    viewer.controls.theta += PI2 / 12;\n  }\n  // Makes a full rotation right in 12 steps\n  function moveRight() {\n    alert(\"right\");\n    viewer.controls.theta -= PI2 / 12;\n  }\n  // Makes a half rotation up in 15 steps\n  function moveUp() {\n    viewer.controls.phi += Math.PI / 15;\n  }\n  // Makes a half rotation down in 15 steps\n  function moveDown() {\n    viewer.controls.phi -= Math.PI / 15;\n  }\n  // Toggles auto spin on key down\n  function toggleSpinKeyDown() {\n    (<HTMLInputElement>document.getElementById(\"toggle\")).checked = \n            !(<HTMLInputElement>document.getElementById(\"toggle\")).checked;\n    toggleSpin();\n  }\n  // Toggles auto spin\n  function toggleSpin() {\n    autoSpin = !autoSpin;\n  }\n  // Triggers when shift is held down\n  function shiftDown() {\n    shift = true;\n    initMouse = currMouse;\n  }\n  // Triggers when shift is released\n  function shiftUp() {\n    shift = false;\n  }\n  // Constantly caching the mouse's position\n  function mouseHandler(event) {\n    var x = event.clientX;\n    var y = event.clientY;\n    currMouse = [x, y];\n  }\n  // Inverts the controls for dragging\n  function invertDrag() {\n    viewer.controls.rotateSpeed = -viewer.controls.rotateSpeed;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = HomePage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}